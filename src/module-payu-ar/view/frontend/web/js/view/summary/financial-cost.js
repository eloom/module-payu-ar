define("jquery ko underscore uiComponent Magento_Checkout/js/model/quote mage/storage Eloom_Core/js/model/url-builder".split(" "),function(d,f,g,k,h,l,m){return k.extend({defaults:{template:"Eloom_PayUAr/summary/financial-cost"},paymentMethod:null,costs:[],teaCost:f.observable(0),cftCost:f.observable(0),isDisplayed:f.observable(!1),initialize:function(){var a=this;this._super();h.paymentMethod.subscribe(function(){a.checkMethod()},null,"change");h.totals.subscribe(function(){a.injectPaymentBehavior()},
null,"change");a.getCosts();return a},injectPaymentBehavior:function(){var a=this;try{var c=jQuery("select[id*='eloom_payments_payu_cc_vault_']").filter(function(){return this.id.match(/eloom_payments_payu_cc_vault_+[1-9]+_installments/)});g.each(c,function(b,e){d(b).data("financial")||(d(b).data("financial",!0),d(b).change(function(){a.setCosts(d(b).val())}))})}catch(b){}try{d("#eloom_payments_payu_cc_installments").each(function(b){d(this).data("financial")||(d(this).data("financial",!0),d(this).change(function(){a.setCosts(d(this).val())}))})}catch(b){}},
setCosts:function(a){try{var c=a.split("-"),b=g.findLastIndex(this.costs,{key:parseInt(c[0])}),e=this.costs[b];this.teaCost(e.tea.toString().concat("%"));this.cftCost(e.cft.toString().concat("%"))}catch(n){}},checkMethod:function(){var a=null,c=!1;try{a=h.paymentMethod().method,c="es_AR"==window.eloom.core.lang&&(-1!=a.indexOf("eloom_payments_payu_cc_vault")||-1!=a.indexOf("eloom_payments_payu_cc"))}catch(b){}this.isDisplayed(c)},getCosts:function(){var a=this;l.post(m.createUrl("/eloom/payuar/financial",
{}),null,!1).done(function(c){c=JSON.parse(c);c.data&&g.each(c.data,function(b,e){b&&a.costs.push({key:b.key,tea:b.tea,cft:b.cft})})})}})});
